vm.c:enterInNewMethod: - может абнулять сегменты? вообще байт код должен нериагировать на грязность. Сегменты нужно заполнять exception т.е. nil
Надо будет проверить звёздачку потом для красоты.
Надо провериь все примитивы на Fail
Проверить границы... везде!!!
primitiv 67!
returnPrev... что если контекст в который мы возвращаемся в цепочки контекстов нету
enterinNew... что если мы зайдём в блок без привязанного контекста
instance надо инециализировать в nil -> 2 режима new (для 0 объектов и объектов с объектами)?
нули в примитивах возвращоются когда были совершены ошибки!!! временно заменили на nilObject
24 примитив - 32ой бит поднимается, но если объект указатель удаляется (GC), то бит не апускается...
Class Pointer - при создании под указатель отводится objNum, хватит ли этого?
test_memmng_GC - неправеряется высвобождение памяти (free?)
method -> VM_off
 - broadcastImageOff -> ImageOffList as OrderedCollection
 - primitiv: 2 (save and exit)
 - broadcastImageOn -> ImageOnList as OrderedCollection
Расписать при include что используется...
Невозможно пройти тесты с Double
memmng.c:newObj - надо закальцевать имедж, но и праверять есть ли место в имедже (заодно вставить вызов GC)
Pointer - может два поля (1 - указатель 2 - длинна массива)?
(file in/out - POSIX ?)
Smalltalk dict - надо сохранить в классе MetaClass_Symbols
CALL: если не указан не trg не src -> ?
continueContext должен возвращять targetObj (?)
formemmng: prim17,18
Два блока в одном методе куда складывают палученые аргументы?
А 2 одинаковых блока где будут размещать временные переменные?